{"ast":null,"code":"import _classCallCheck from \"/home/monik/nitraa-pune-website/nitraa-pune/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/monik/nitraa-pune-website/nitraa-pune/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/monik/nitraa-pune-website/nitraa-pune/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/monik/nitraa-pune-website/nitraa-pune/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/monik/nitraa-pune-website/nitraa-pune/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/monik/nitraa-pune-website/nitraa-pune/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/monik/nitraa-pune-website/nitraa-pune/client/src/BlogEditPane.jsx\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, CardLink } from 'reactstrap';\nimport Button from 'react-bootstrap/Button';\nimport MaterialIcons from 'material-icons-react';\nimport Figure from 'react-bootstrap/Figure';\nimport Header from './Components/Header';\nimport Footer from './Components/Footer';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Table from 'react-bootstrap/Table';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Sweetalert from 'react-bootstrap-sweetalert';\nimport axios from 'axios';\nimport queryString from 'query-string';\nimport $ from 'jquery';\n\nvar BlogEditPane =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BlogEditPane, _React$Component);\n\n  function BlogEditPane(props) {\n    var _this;\n\n    _classCallCheck(this, BlogEditPane);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BlogEditPane).call(this, props));\n    _this.state = {\n      id: \"\",\n      title: \"\",\n      description: \"\",\n      postedBy: \"\",\n      blogImg: \"\",\n      ModeratorAlertText: \"\",\n      ModeratorAlertShow: false,\n      ModeratorAlertStyle: \"danger\",\n      ModeratorAlertConfirmButton: \"I Understand\",\n      responseFetched: 0\n    };\n    _this.handleModeratorAlertClose = _this.handleModeratorAlertClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleModeratorAlertShow = _this.handleModeratorAlertShow.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(BlogEditPane, [{\n    key: \"handleModeratorAlertShow\",\n    value: function handleModeratorAlertShow() {\n      this.setState({\n        ModeratorAlertShow: true\n      });\n    }\n  }, {\n    key: \"handleModeratorAlertClose\",\n    value: function handleModeratorAlertClose() {\n      var params = queryString.parse(this.props.location.search);\n      this.setState({\n        ModeratorAlertShow: false\n      });\n\n      if (this.state.ModeratorAlertStyle === \"success\") {\n        var params = queryString.parse(this.props.location.search);\n        window.open(\"/blogPage?bid=\" + params.bid, \"_self\");\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var params = queryString.parse(this.props.location.search);\n\n      if (params.bid && localStorage.getItem('profile') === \"moderator\") {\n        this.setState({\n          id: params.bid\n        });\n\n        var _self_parent = this;\n\n        axios({\n          method: 'GET',\n          url: '/blogs/' + params.bid\n        }).then(function (response) {\n          if (response.data.status === \"success\") {\n            _self_parent.setState({\n              title: response.data.data.blogTitle,\n              description: response.data.data.blogDescription,\n              postedBy: response.data.data.blogPostedby,\n              blogImg: params.bid + \".\" + response.data.data.blog_image_ext,\n              responseFetched: 1\n            });\n          } else {\n            _self_parent.setState({\n              responseFetched: 300\n            });\n          }\n        }).catch(function (error) {\n          console.log(error);\n\n          _self_parent.setState({\n            responseFetched: 300\n          });\n        });\n      } else {\n        this.setState({\n          responseFetched: 404\n        });\n      }\n    }\n  }, {\n    key: \"updateBlog\",\n    value: function updateBlog() {\n      var blogId = this.state.id;\n      var blogTitle = this.state.title;\n      var blogDescription = this.state.description;\n      var blogPostedby = this.state.postedBy;\n      var blogImage = $(\"#blog-image\")[0].files[0];\n\n      if (blogId === \"\" || blogTitle === \"\" || blogDescription === \"\" || blogPostedby === \"\") {\n        this.setState({\n          ModeratorAlertText: \"One or more field(s) empty.\",\n          ModeratorAlertStyle: \"danger\",\n          ModeratorAlertConfirmButton: \"I Understand\"\n        });\n        this.handleModeratorAlertShow();\n      } else {\n        if (blogImage) {\n          var formdata = new FormData();\n          formdata.append(\"ImageFile\", blogImage);\n          formdata.append(\"id\", blogId);\n          formdata.append(\"blogTitle\", blogTitle);\n          formdata.append(\"blogDescription\", blogDescription);\n          formdata.append(\"blogPostedby\", blogPostedby);\n\n          var _self = this;\n\n          axios({\n            method: \"PUT\",\n            url: \"/blogs\",\n            data: formdata,\n            headers: {\n              authtoken: localStorage.getItem('authtoken'),\n              'Content-Type': 'multipart/form-data'\n            }\n          }).then(function (response) {\n            if (response.data.status === \"success\") {\n              _self.setState({\n                ModeratorAlertText: \"Blog Details edited successfully.\",\n                ModeratorAlertStyle: \"success\",\n                ModeratorAlertConfirmButton: \"OK\"\n              });\n\n              _self.handleModeratorAlertShow();\n            } else {\n              _self.setState({\n                ModeratorAlertText: response.data.message,\n                ModeratorAlertStyle: \"danger\",\n                ModeratorAlertConfirmButton: \"I Understand\"\n              });\n\n              _self.handleModeratorAlertShow();\n            }\n          }).catch(function (error) {\n            console.log(error);\n\n            _self.setState({\n              ModeratorAlertText: \"An Unexpected Error Occured.\",\n              ModeratorAlertStyle: \"danger\",\n              ModeratorAlertConfirmButton: \"I Understand\"\n            });\n\n            _self.handleModeratorAlertShow();\n          });\n        } else {\n          var _self = this;\n\n          axios({\n            method: 'PUT',\n            url: \"/blogs\",\n            data: {\n              id: blogId,\n              blogTitle: blogTitle,\n              blogDescription: blogDescription,\n              blogPostedby: blogPostedby\n            },\n            headers: {\n              authtoken: localStorage.getItem('authtoken')\n            }\n          }).then(function (response) {\n            if (response.data.status === \"success\") {\n              _self.setState({\n                ModeratorAlertText: \"Blog Details edited successfully.\",\n                ModeratorAlertStyle: \"success\",\n                ModeratorAlertConfirmButton: \"OK\"\n              });\n\n              _self.handleModeratorAlertShow();\n            } else {\n              _self.setState({\n                ModeratorAlertText: response.data.message,\n                ModeratorAlertStyle: \"danger\",\n                ModeratorAlertConfirmButton: \"I Understand\"\n              });\n\n              _self.handleModeratorAlertShow();\n            }\n          }).catch(function (error) {\n            console.log(error);\n\n            _self.setState({\n              ModeratorAlertText: \"An Unexpected Error Occured.\",\n              ModeratorAlertStyle: \"danger\",\n              ModeratorAlertConfirmButton: \"I Understand\"\n            });\n\n            _self.handleModeratorAlertShow();\n          });\n        }\n      }\n    }\n  }, {\n    key: \"changeTitle\",\n    value: function changeTitle(event) {\n      console.log(event.target.value);\n      this.setState({\n        title: event.target.value\n      });\n    }\n  }, {\n    key: \"changeDescription\",\n    value: function changeDescription(event) {\n      console.log(event.target.value);\n      this.setState({\n        description: event.target.value\n      });\n    }\n  }, {\n    key: \"changePostedBy\",\n    value: function changePostedBy(event) {\n      console.log(event.target.value);\n      this.setState({\n        postedBy: event.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var styleTableDiv = {\n        marginTop: '15vh',\n        marginBottom: '15vh',\n        padding: \"10px\",\n        background: \"#eee\"\n      };\n\n      if (this.state.responseFetched === 0) {\n        return React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          style: styleTableDiv,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, \"Edit Blog\")))), React.createElement(\"div\", {\n          style: {\n            padding: '5px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, \"Loading ...\")))), React.createElement(Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }));\n      } else if (this.state.responseFetched === 404) {\n        return React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          style: styleTableDiv,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, \"Edit Blog\")))), React.createElement(\"div\", {\n          style: {\n            padding: '5px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, \"Not authorized to perform this action.\")))), React.createElement(Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }));\n      } else if (this.state.responseFetched === 300) {\n        return React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          style: styleTableDiv,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, \"Edit Blog\")))), React.createElement(\"div\", {\n          style: {\n            padding: '5px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, \"Something went wrong! Please try again..\")))), React.createElement(Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }));\n      } else if (this.state.responseFetched === 1) {\n        return React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          style: styleTableDiv,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, \"Edit Blog\")))), React.createElement(\"div\", {\n          style: {\n            padding: '5px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }, React.createElement(Col, {\n          xs: 12,\n          md: 3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"w-100\",\n          src: process.env.PUBLIC_URL + \"images/blogs/\" + this.state.blogImg,\n          alt: \"image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        })), React.createElement(Col, {\n          xs: 12,\n          md: 9,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, React.createElement(Row, {\n          style: {\n            padding: \"1rem 1.5rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"file\",\n          id: \"blog-image\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        })), React.createElement(Row, {\n          style: {\n            padding: \"1rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: 6,\n          style: {\n            padding: \"0.5rem 0.5rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, \"Title\"), React.createElement(Form.Control, {\n          type: \"text\",\n          id: \"blog-title\",\n          placeholder: \"Title\",\n          value: this.state.title,\n          onChange: this.changeTitle.bind(this),\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        })), React.createElement(Col, {\n          md: 6,\n          style: {\n            padding: \"0.5rem 0.5rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        }, \"Posted By\"), React.createElement(Form.Control, {\n          type: \"text\",\n          id: \"blog-posted-by\",\n          placeholder: \"Posted by\",\n          value: this.state.postedBy,\n          onChange: this.changePostedBy.bind(this),\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }))), React.createElement(Row, {\n          style: {\n            padding: \"1rem 1.5rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, \"Content\"), React.createElement(Form.Control, {\n          as: \"textarea\",\n          rows: \"5\",\n          id: \"blog-description\",\n          placeholder: \"Description\",\n          value: this.state.description,\n          onChange: this.changeDescription.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        })), React.createElement(Row, {\n          style: {\n            padding: \"1rem\",\n            margin: \"0\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"primary\",\n          onClick: this.updateBlog.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }, \"Submit\"))))))), React.createElement(Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }), React.createElement(Sweetalert, {\n          type: this.state.ModeratorAlertStyle,\n          confirmBtnText: this.state.ModeratorAlertConfirmButton,\n          confirmBtnBsStyle: \"primary\",\n          title: \"Moderator Utility\",\n          show: this.state.ModeratorAlertShow,\n          onConfirm: this.handleModeratorAlertClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, this.state.ModeratorAlertText));\n      }\n    }\n  }]);\n\n  return BlogEditPane;\n}(React.Component);\n\nexport default BlogEditPane;","map":{"version":3,"sources":["/home/monik/nitraa-pune-website/nitraa-pune/client/src/BlogEditPane.jsx"],"names":["React","ReactDOM","Container","Form","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","CardLink","Button","MaterialIcons","Figure","Header","Footer","Row","Col","Table","Tabs","Tab","Sweetalert","axios","queryString","$","BlogEditPane","props","state","id","title","description","postedBy","blogImg","ModeratorAlertText","ModeratorAlertShow","ModeratorAlertStyle","ModeratorAlertConfirmButton","responseFetched","handleModeratorAlertClose","bind","handleModeratorAlertShow","setState","params","parse","location","search","window","open","bid","localStorage","getItem","_self_parent","method","url","then","response","data","status","blogTitle","blogDescription","blogPostedby","blog_image_ext","catch","error","console","log","blogId","blogImage","files","formdata","FormData","append","_self","headers","authtoken","message","event","target","value","styleTableDiv","marginTop","marginBottom","padding","background","process","env","PUBLIC_URL","changeTitle","changePostedBy","changeDescription","margin","updateBlog","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, CardLink } from 'reactstrap';\nimport Button from 'react-bootstrap/Button';\nimport MaterialIcons from 'material-icons-react';\nimport Figure from 'react-bootstrap/Figure';\nimport Header from './Components/Header';\nimport Footer from './Components/Footer';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Table from 'react-bootstrap/Table';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab'\nimport Sweetalert from 'react-bootstrap-sweetalert';\nimport axios from 'axios';\nimport queryString from 'query-string';\nimport $ from 'jquery';\n\nclass BlogEditPane extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      id: \"\",\n      title: \"\",\n      description: \"\",\n      postedBy: \"\",\n      blogImg: \"\",\n      ModeratorAlertText : \"\",\n      ModeratorAlertShow : false,\n      ModeratorAlertStyle : \"danger\",\n      ModeratorAlertConfirmButton: \"I Understand\",\n      responseFetched: 0\n    }\n    this.handleModeratorAlertClose = this.handleModeratorAlertClose.bind(this);\n    this.handleModeratorAlertShow = this.handleModeratorAlertShow.bind(this);\n  }\n  handleModeratorAlertShow() {\n      this.setState({ ModeratorAlertShow: true });\n  }\n\n  handleModeratorAlertClose() {\n      var params = queryString.parse(this.props.location.search);\n      this.setState({ ModeratorAlertShow: false });\n      if(this.state.ModeratorAlertStyle === \"success\"){\n        var params = queryString.parse(this.props.location.search);\n        window.open(\"/blogPage?bid=\"+params.bid, \"_self\");\n      }\n  }\n  componentDidMount(){\n    var params = queryString.parse(this.props.location.search);\n    if(params.bid && localStorage.getItem('profile') === \"moderator\"){\n      this.setState({\n        id: params.bid\n      });\n      var _self_parent = this;\n      axios({\n        method: 'GET',\n        url: '/blogs/'+ params.bid,\n      }).then(response => {\n        if(response.data.status === \"success\"){\n          _self_parent.setState({\n            title: response.data.data.blogTitle,\n            description: response.data.data.blogDescription,\n            postedBy: response.data.data.blogPostedby,\n            blogImg: params.bid + \".\" + response.data.data.blog_image_ext,\n            responseFetched: 1\n          });\n        }\n        else{\n          _self_parent.setState({\n            responseFetched: 300\n          });\n        }\n      }).catch(error =>{\n        console.log(error);\n        _self_parent.setState({\n          responseFetched: 300\n        });\n      })\n    }\n    else{\n      this.setState({responseFetched: 404});\n    }\n  }\n  updateBlog(){\n    var blogId = this.state.id;\n    var blogTitle = this.state.title;\n    var blogDescription = this.state.description;\n    var blogPostedby = this.state.postedBy;\n    var blogImage = $(\"#blog-image\")[0].files[0];\n    if(blogId===\"\" || blogTitle===\"\" || blogDescription===\"\" || blogPostedby===\"\"){\n      this.setState({ModeratorAlertText : \"One or more field(s) empty.\", ModeratorAlertStyle : \"danger\", ModeratorAlertConfirmButton: \"I Understand\"});\n      this.handleModeratorAlertShow();\n    }\n    else{\n      if(blogImage){\n        var formdata = new FormData();\n        formdata.append(\"ImageFile\", blogImage);\n        formdata.append(\"id\", blogId);\n        formdata.append(\"blogTitle\",blogTitle);\n        formdata.append(\"blogDescription\",blogDescription);\n        formdata.append(\"blogPostedby\",blogPostedby);\n        var _self = this;\n        axios({\n          method: \"PUT\",\n          url: \"/blogs\",\n          data: formdata,\n          headers: {\n            authtoken: localStorage.getItem('authtoken'),\n            'Content-Type': 'multipart/form-data'\n          }\n        }).then(response=>{\n          if(response.data.status === \"success\"){\n            _self.setState({ModeratorAlertText : \"Blog Details edited successfully.\", ModeratorAlertStyle : \"success\", ModeratorAlertConfirmButton: \"OK\"});\n            _self.handleModeratorAlertShow();\n          }\n          else{\n            _self.setState({ModeratorAlertText : response.data.message, ModeratorAlertStyle : \"danger\", ModeratorAlertConfirmButton: \"I Understand\"});\n            _self.handleModeratorAlertShow();\n          }\n        }).catch(error=>{\n          console.log(error);\n          _self.setState({ModeratorAlertText : \"An Unexpected Error Occured.\", ModeratorAlertStyle : \"danger\", ModeratorAlertConfirmButton: \"I Understand\"});\n          _self.handleModeratorAlertShow();\n        });\n      }\n      else{\n        var _self = this;\n        axios({\n          method: 'PUT',\n          url: \"/blogs\",\n          data:{\n            id:blogId,\n            blogTitle:blogTitle,\n            blogDescription:blogDescription,\n            blogPostedby:blogPostedby\n          },\n          headers: {\n            authtoken: localStorage.getItem('authtoken')\n          }\n        }).then(response=>{\n          if(response.data.status === \"success\"){\n            _self.setState({ModeratorAlertText : \"Blog Details edited successfully.\", ModeratorAlertStyle : \"success\", ModeratorAlertConfirmButton: \"OK\"});\n            _self.handleModeratorAlertShow();\n          }\n          else{\n            _self.setState({ModeratorAlertText : response.data.message, ModeratorAlertStyle : \"danger\", ModeratorAlertConfirmButton: \"I Understand\"});\n            _self.handleModeratorAlertShow();\n          }\n        }).catch(error=>{\n          console.log(error);\n          _self.setState({ModeratorAlertText : \"An Unexpected Error Occured.\", ModeratorAlertStyle : \"danger\", ModeratorAlertConfirmButton: \"I Understand\"});\n          _self.handleModeratorAlertShow();\n        });\n      }\n    }\n  }\n  changeTitle(event){\n    console.log(event.target.value);\n    this.setState({\n      title: event.target.value\n    });\n  }\n  changeDescription(event){\n    console.log(event.target.value);\n    this.setState({\n      description: event.target.value\n    });\n  }\n  changePostedBy(event){\n    console.log(event.target.value);\n    this.setState({\n      postedBy: event.target.value\n    });\n  }\n  render() {\n    const styleTableDiv = {\n        marginTop : '15vh',\n        marginBottom : '15vh',\n        padding: \"10px\",\n        background: \"#eee\"\n    }\n    if(this.state.responseFetched === 0){\n      return(\n        <Container>\n          <Header/>\n          <div style = {styleTableDiv}>\n            <Row>\n              <Col>\n                <center><h2>Edit Blog</h2></center>\n              </Col>\n            </Row>\n            <div style = {{padding: '5px'}}>\n              <center><h4>Loading ...</h4></center>\n            </div>\n          </div>\n          <Footer/>\n        </Container>\n      )\n    }\n    else if(this.state.responseFetched === 404){\n      return(\n        <Container>\n          <Header/>\n          <div style = {styleTableDiv}>\n            <Row>\n              <Col>\n                <center><h2>Edit Blog</h2></center>\n              </Col>\n            </Row>\n            <div style = {{padding: '5px'}}>\n              <center><h4>Not authorized to perform this action.</h4></center>\n            </div>\n          </div>\n          <Footer/>\n        </Container>\n      )\n    }\n    else if(this.state.responseFetched === 300){\n      return(\n        <Container>\n          <Header/>\n          <div style = {styleTableDiv}>\n            <Row>\n              <Col>\n                <center><h2>Edit Blog</h2></center>\n              </Col>\n            </Row>\n            <div style = {{padding: '5px'}}>\n              <center><h4>Something went wrong! Please try again..</h4></center>\n            </div>\n          </div>\n          <Footer/>\n        </Container>\n      )\n    }\n    else if(this.state.responseFetched === 1){\n      return(\n        <Container>\n          <Header/>\n          <div style = {styleTableDiv}>\n            <Row>\n              <Col>\n                <center><h2>Edit Blog</h2></center>\n              </Col>\n            </Row>\n            <div style = {{padding: '5px'}}>\n              <Form>\n                <Row>\n                  <Col xs={12} md={3}>\n                    <img\n                      className=\"w-100\"\n                      src={process.env.PUBLIC_URL + \"images/blogs/\" + this.state.blogImg}\n                      alt=\"image\"\n                    />\n                  </Col>\n                  <Col xs={12} md={9}>\n                    <Row style ={{padding: \"1rem 1.5rem\"}}>\n                      <Form.Control type = \"file\" id = \"blog-image\" required></Form.Control>\n                    </Row>\n\n                    <Row style = {{padding: \"1rem\"}}>\n                      <Col md={6} style={{padding: \"0.5rem 0.5rem\"}}>\n                        <Form.Label>Title</Form.Label>\n                        <Form.Control type = \"text\" id = \"blog-title\" placeholder = \"Title\" value={this.state.title} onChange={this.changeTitle.bind(this)} required></Form.Control>\n                      </Col>\n                      <Col md={6} style={{padding: \"0.5rem 0.5rem\"}}>\n                        <Form.Label>Posted By</Form.Label>\n                        <Form.Control type = \"text\" id  = \"blog-posted-by\" placeholder = \"Posted by\" value={this.state.postedBy} onChange={this.changePostedBy.bind(this)} required></Form.Control>\n                      </Col>\n                    </Row>\n\n                    <Row style ={{padding: \"1rem 1.5rem\"}}>\n                      <Form.Label>Content</Form.Label>\n                      <Form.Control as = \"textarea\" rows = \"5\" id = \"blog-description\" placeholder = \"Description\" value={this.state.description} onChange={this.changeDescription.bind(this)}></Form.Control>\n                    </Row>\n\n                    <Row style = {{padding: \"1rem\", margin: \"0\"}}>\n                      <Button variant = \"primary\" onClick = {this.updateBlog.bind(this)}>Submit</Button>\n                    </Row>\n\n                  </Col>\n                </Row>\n              </Form>\n            </div>\n          </div>\n          <Footer/>\n          <Sweetalert type={this.state.ModeratorAlertStyle} confirmBtnText={this.state.ModeratorAlertConfirmButton} confirmBtnBsStyle=\"primary\" title=\"Moderator Utility\" show={this.state.ModeratorAlertShow} onConfirm={this.handleModeratorAlertClose}>\n              {this.state.ModeratorAlertText}\n          </Sweetalert>\n        </Container>\n      )\n    }\n  }\n}\nexport default BlogEditPane;\n"]},"metadata":{},"sourceType":"module"}